<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/css/pygments.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/css/font-awesome.min.css">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />
  <meta name="author" content="Micah Smith" />
  <meta name="description" content="" />
<meta property="og:site_name" content="Micah Smith"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Micah Smith"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.micahsmith.com"/>
<meta property="og:image" content="https://www.micahsmith.com/images/micah.jpg">
  <title>Micah Smith</title>
</head>
<body>
  <aside>
    <div>
      <a href="https://www.micahsmith.com">
        <img src="https://www.micahsmith.com/images/micah.jpg" alt="Micah J. Smith" title="Micah J. Smith">
      </a>
      <h1><a href="https://www.micahsmith.com">Micah J. Smith</a></h1>
      <p></p>
      <nav>
        <ul class="list">
          <li><a href="https://www.micahsmith.com/contact/#contact">contact</a></li>
        </ul>
      </nav>
      <ul class="social">
        <li><a class="sc-twitter" href="https://twitter.com/micahjsmith" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="https://github.com/micahjsmith" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-stack-overflow" href="https://stackoverflow.com/users/2514228/micah-smith" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/micahjsmith" target="_blank"><i class="fa fa-linkedin"></i></a></li>
      </ul>
    </div>
  </aside>
  <main>
    <nav>
      <a href="https://www.micahsmith.com">Home</a>
      <a href="/blog.html">Blog</a>
      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>
    </nav>

<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2017/02/you-need-a-doorbell/#you-need-a-doorbell">You need a doorbell</a></h2>
    <p>
      Posted on Fri 03 February 2017 in <a href="https://www.micahsmith.com/category/programming.html">programming</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/life.html">life</a>,      <a href="https://www.micahsmith.com/tag/programming.html">programming</a>,      <a href="https://www.micahsmith.com/tag/python.html">python</a>,      <a href="https://www.micahsmith.com/tag/twilio.html">twilio</a>,      <a href="https://www.micahsmith.com/tag/flask.html">flask</a>      &#8226; <a href="https://www.micahsmith.com/blog/2017/02/you-need-a-doorbell/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>Sometimes a dumb technical approach can be a solution to a real world problem.</p>
<p>I live in a graduate residence that doesn't have a buzzer system. To be granted access, my
guests have to text/call me directly and I have to walk downstairs to let them in. Though
this may not seem like a big deal, if I'm having more than just a couple people over, it can
be a bit much to continuously be checking my phone and interrupting conversations to sprint
through hallways to the door.</p>
<p>I know it's not just me. Two of my friends had an apartment near me, when I lived in New
York, on Mott Street. Their apartment building, which was built in 1900, had no buzzer
system, even though it probably housed 50 people or more (and cost more than your parents'
mortgage payment per month for about 12 square feet of space). When friends were coming
over, the new arrivals would text to announce that they were outside, and my friends would
<em>drop the front door key in a sock out the window</em> onto the busy street. Somehow no one was
ever injured, and it sure was a lot of fun.</p>
<p>The approach I take here is to make the arrival process more seamless and transfer
burden of opening the door off the party hosts and onto the guests. Go ahead and design a
robot that turns a doorknob on command at your own peril.</p>
<h2>Introducing <em>you-need-a-doorbell</em></h2>
<p><a href="https://github.com/micahjsmith/you-need-a-doorbell"><em>you-need-a-doorbell</em></a> is a simple app
that uses text messages and audio alerts to manage your guests' arrival to the party. When
they arrive, guests text a phone number that you have registered through Twilio. (Not your
own cell!) Their contact information is validated against permission lists, and if the guest
is authorized to enter the party, an announced is made from your computer speakers.</p>
<blockquote>
<p>DING DONG! Guest Flo Rida has arrived to the party.</p>
</blockquote>
<p>Since everybody in the party can hear this announcement, it gives you, the host, latitude to
spin on your heels and point to some unsuspecting soul: "Go let Flo Rida in!"</p>
<p>The host can even have the app randomly assign responsibility to open the door from the
list of guests who have already arrived. This further removes responsibility from your plate
as now, not only are you not running down to open the door, but you're not even pointing
a finger at anyone! (And everyone knows computers are blameless.)</p>
<p><a href="https://github.com/micahjsmith/you-need-a-doorbell">Check out <em>you-need-a-doorbell</em> on GitHub.</a></p>
<h2>Making the app</h2>
<p>A simple Flask web server runs on my macOS desktop. Then, when a guest sends a text to the
party-specific phone number, the text message number and body are packaged into a POST
request to a URL on my server. After validation of the phone number, a text-to-speech
utility like <code>say</code> is used to play a message out of the speakers. The original version I
whipped up for a small kickback at my place was only 49 lines of code.</p>
<p>I added new features after my own alpha test and packaged things more nicely so that options
could be specified in a config file. I really enjoyed making this, as I learned a bit about
Flask and admired the simplicity of the Twilio API.</p>
<p>Going forward, I would re-design this so that the app was hosted in the cloud and party
hosts could access everything through a web interface. The server could run on EC2 or some
other service, listening for requests from Twilio. Simultaneously, the party host would log
in to the server. A connection would be kept open using a web socket. There, they could
manage permissions for potential guests, view those who had arrived (or those that were
still expected), and listen for arrival messages. One could even import attendance info from
a Facebook event. Perhaps, as I continue to learn more about web development, I'll create
this interface. For now, I'm happy with what I have, and I hope you may be too.</p>
<p>Since I added new features after my alpha test and didn't do very thorough testing, you may
find some bugs. Please let me know if that's the case.</p>
<p>I found that the text message interface for guests worked really well. It's interesting how
everyone and their mother releases iOS/Android apps to facilitate just simple messaging with
their organization and access to static resources like maps or schedules. I'm not sure that
this interface is any better than a text message hotline and a website. As "bots" are
becoming the rage for many simple tasks, maybe we'll see the lowly SMS make more of a
resurgence.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2017/01/my-first-crossword/#my-first-crossword">My first crossword</a></h2>
    <p>
      Posted on Tue 24 January 2017 in <a href="https://www.micahsmith.com/category/crossword.html">crossword</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/crossword.html">crossword</a>      &#8226; <a href="https://www.micahsmith.com/blog/2017/01/my-first-crossword/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>I made my first crossword! This is something that I've been working on <em>very</em> intermittently
since 2011. Very intermittently, in the sense that I would make progress only when I was
flying across the country on college breaks and, with no any internet connection, sometimes
didn't have anything better to do.</p>
<p><a href="#get-the-puzzle">(Skip to download the puzzle below.)</a></p>
<p>Actually, this is my second puzzle, but my first one is pretty sloppy and I'd rather show
you this one. Maybe that one will see the light one day, maybe not.</p>
<p>This puzzle even has a theme of sorts. See if you can guess which are the theme clues. (I'm
sure you can.) I imagined this printing in the New York Times on Thanksgiving of some year
as I triumphantly waved drumsticks in the air and forced loved ones to solve it.</p>
<h2>Making the puzzle</h2>
<p>It was surprisingly difficult to create the puzzle. I still haven't looked into the
process and resources that experienced creators use, though I'm sure these can ease the
process substantially. In my attempt, I created a 15 x 15 table in iWork Pages/MS Word and
shaded cells to achieve black squares. I would place my theme answers, then try to fill in
corners one at a time. Eventually, I would come to an impasse and have to backtrack, deleting
answers until a fill would be possible again.</p>
<p>At first, all answers came from my head. But if I can't solve every crossword, then surely the
set of answers I could think of was much smaller than those necessary to ensure a diverse
fill. I next resorted to using regex with <code>/usr/share/dict/words</code> (or larger variants). This
was an imperfect solution as dictionaries don't have nearly the phrases, abbreviations,
acronyms, and proper nouns that make for an interesting puzzle. I finally used XWord Info's
excellent <a href="http://www.xwordinfo.com/Finder">clue finder</a> and, in my most active phase, even
shelled out a small donation to get more access. (You may note that by this time I was not
necessarily flying on an airplane.)</p>
<p>This puzzle has seen many iterations. For each, I was my own worst critic, circling my
"groaners" even as friends who play-tested it didn't seem to mind. I minimized these in this
final version the best I can, though I'm sure <a href="http://rexwordpuzzle.blogspot.com/">Rex Parker</a>
would show no mercy on several of my answers.</p>
<h2>Get the puzzle <a name="get-the-puzzle"></a></h2>
<p>Are you hungry for a crossword by now? Well, get the puzzle!</p>
<ul>
<li>as a <a href="https://www.micahsmith.com/files/whos_hungry_crossword.pdf">PDF</a></li>
<li>in <a href="https://www.micahsmith.com/files/whos_hungry_crossword.puz">Across Lite format</a></li>
</ul>
<p>You can download Across Lite for free <a href="http://www.litsoft.com/across/alite/download/">here</a>.</p>
<p>Hope you enjoy, and please leave any comments below!</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/11/cambridge-half-analysis/#cambridge-half-analysis">I ran a race and made some graphs</a></h2>
    <p>
      Posted on Thu 17 November 2016 in <a href="https://www.micahsmith.com/category/dataviz.html">dataviz</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/dataviz.html">dataviz</a>,      <a href="https://www.micahsmith.com/tag/running.html">running</a>,      <a href="https://www.micahsmith.com/tag/julia.html">julia</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/11/cambridge-half-analysis/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>The Cambridge Half Marathon was this past Sunday and I was able to race with a couple of
friends. It was a gorgeous day and very nice course. As always, I was inspired by the
diversity of runners.</p>
<p>After finishing, I was happy to see that the full results were dumped in one not-too-poorly
formatted text file. I whipped it into a Julia DataFrame to do a bit of analysis.</p>
<h2>How fast are old people?</h2>
<p>It's a thrill to get passed by older women and men who are pacing along by themselves or
running with their daughters or sons. How fast were the older runners in this race,
especially compared to runners in their "primes"? To answer this, I plot the estimated
distribution of pace (minutes per mile) across age groups.</p>
<p><object data="https://www.micahsmith.com/images/density_age_v2.js.svg" type="image/svg+xml"></object></p>
<p>It's interesting to note that, besides the literal elderly, runners from very different age
groups have similar distributions of paces. Sure, there's a little more mass on faster paces for the youngest
runners (20 years old or younger) and a bit more mass on slower paces for the 51-65 year
old runners. But the five age categories in the middle show quite similar distributions, and
the modes are almost identical at around 9:00 minutes per mile.</p>
<p>I haven't looked at the science for how pace changes with increased age in general — though
presumably it converges to 0 when we die — nor looked at data from other races, so I'm
interested to see if this phenomenon is seen more widely. I would expect that for the older
age groups, there is a fair amount of self-selection in which more dedicated runners compete
and the "recreational" runners stay home. This could balance out the natural decreases in
pace from aging.</p>
<h2>How fast are young people?</h2>
<p>With those oldies speeding by, it's important not to lose track of my own peers. Below, I plot the
estimated distribution of pace for the group of 23-year old males, and show the pace of
several key individuals.</p>
<p><object data="https://www.micahsmith.com/images/density_micah.js.svg" type="image/svg+xml"></object></p>
<p>I turn out to not be the last of the pack for my group, for which I'm relieved. However,
while I handily beat the oldest racer of the day — a 71-year old man —, I get crushed by
the youngest racer of the day — a 9-year old boy, who runs an amazing 7:14 pace.  </p>
<p>It's inspiring to take part in a race with such a diverse group of racers in terms of age,
experience, and ability. A special shout out as well to the eight visually impaired runners and
two wheelchair racers who completed the course.</p>
<p>The data and code can be seen on my
<a href="https://github.com/micahjsmith/cambridge-half-analysis">GitHub</a>.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/11/why-im-bailing-on-julia-for-machine-learning/#why-im-bailing-on-julia-for-machine-learning">Why I'm bailing on Julia for machine learning</a></h2>
    <p>
      Posted on Fri 04 November 2016 in <a href="https://www.micahsmith.com/category/programming.html">programming</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/julia.html">julia</a>,      <a href="https://www.micahsmith.com/tag/python.html">python</a>,      <a href="https://www.micahsmith.com/tag/ml.html">ml</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/11/why-im-bailing-on-julia-for-machine-learning/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>I'm bailing on Julia for machine learning — just for my one class, that is. Don't worry
~too much~!</p>
<p>I'm taking graduate machine learning (6.867) this semester at MIT. There are three homework
assignments in the course that are structured as mini-projects, in which students
implement canonical algorithms from scratch and then use them to analyze datasets or
explore the effects of hyperparameters. "Official support" — in the sense of skeleton code,
plotting routines, and TA assistance — is provided for MATLAB and Python only. Working in
Julia (or another language) is allowed, but <em>the going is solo</em>.</p>
<p>After sticking with Julia for the first two assignments, I'm bailing for
the rest of the semester.  Although Julia is great-looking, fun to write, and
performant as ever, there were a lot of challenges I ran into in using existing
functionality within my assignments. Specifically, I found the stats/ML packages pale in
comparison to <code>sklearn</code> in terms of functionality and ease of use. While it was great to use
Julia to implement my own algorithms, it turned out to be a real hassle to tie in with
existing functionality.</p>
<p>As one of several small issues, here's the trouble I went through just to use
pre-existing functionality to fit a logistic regression model.</p>
<h3>Logistic regression case study</h3>
<p>What's the quickest way to fit a logistic regression model for classification? A quick
<a href="http://lmgtfy.com/?q=logistic+regression+julia">search</a> brings up the
<a href="juliastats.github.io">JuliaStats</a> page (as my first result, at least) with a variety of
packages listed. From the descriptions, it seems like our candidates for logistic regression
solvers are <em>GLM.jl</em> and <em>RegERMs.jl.</em> The next search results are for <em>Regression.jl</em> and a
couple DIY logistic regression examples.</p>
<p>Let's assess our options:</p>
<ul>
<li><em>GLM.jl</em>: Has most of the goods, but as we'll see, it didn't have all the features I needed
    for my assignment.</li>
<li><em>RegERMs.jl</em>: Doesn't even load on Julia 0.5, last commit over a year ago.</li>
</ul>
<div class="highlight"><pre><span></span>julia&gt; Pkg.add(&quot;RegERMs&quot;)
ERROR: unsatisfiable package requirements detected: no feasible version could be found
for package: Optim
</pre></div>


<ul>
<li><em>Regression.jl</em>: Doesn't even load on Julia 0.5, last commit over a year ago.</li>
</ul>
<div class="highlight"><pre><span></span>julia&gt; using Regression
ERROR: LoadError: LoadError: LoadError: UndefVarError: FloatingPoint not defined
</pre></div>


<p>So <em>GLM.jl</em> is our only option. And at this, a new Julia user might be lucky to even find it.
It's not immediate from the JuliaStats blurb that <em>GLM.jl</em> can be used for logistic regression,
and there's no mention of "logistic" neither in the documentation nor in the repo itself
besides a comment in a test case. (An astute user, of course, may note that <code>LogitLink</code> is
relevant, and will likely be aware of the features of the popular R package.)</p>
<p>But it's not too bad to fit a logistic regression model using <em>GLM.jl</em>:</p>
<div class="highlight"><pre><span></span>using GLM, DataFrames
df = DataFrame(x = rand(10,1), y = rand([0,1], 10))
model = fit(GeneralizedLinearModel, y ~ x, df, Binomial(), LogitLink())
</pre></div>


<p>Note as well that the DIY logistic regression attempts that rank highly in search results (like
<a href="http://stackoverflow.com/questions/32703119/logistic-regression-in-julia-using-optim-jl">here</a>
and <a href="http://int8.io/logstic-regression-with-gradient-descent-in-julia/">here</a>) are not super
helpful for the purposes of quickly fitting a model, but are typical of the content that
comes up in results for Julia queries.</p>
<h3>Adding L1/L2 regularization</h3>
<p>In one of the 6.867 assignments, we are asked to apply logistic regression with L1/L2
regularization. <em>GLM.jl</em> doesn't provide this functionality and the other seeming possibilities
were non-functional <em>RegERMs.jl</em>. I was out of luck. I switched to <code>sklearn</code> for the rest of
the problem.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">Y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="kp">round</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">penalty</span><span class="o">=</span><span class="s1">&#39;l1&#39;</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>


<p>After later investigation, I did realize that <em>GLMNet.jl</em>, which wraps the <code>glmnet</code> Fortran library,
would have done the job, with sufficient user effort. </p>
<h3>The pieces are there, the whole is missing</h3>
<p>We were able to fit our logistic regression classifier after a fair amount of digging. But
this digging shouldn't be necessary. It should have been easier to find a logistic
regression <em>that works</em> from the JuliaStats landing page, given that this is a pretty
standard learning algorithm. And inconsistencies within the JuliaStats organization seem to
be a fair problem. A user might start by using <em>GLM.jl</em>. But to add regularization to the
loss function requires to switch to a different package, with a slightly different API so
that the old code can't be dropped in. The
<a href="http://statsbasejl.readthedocs.io/en/latest/statmodels.html">"interface"</a> in StatsBase.jl
isn't totally implemented in some of these more niche packages (<em>GLMNet.jl</em>, <em>Lasso.jl</em>), or isn't
particularly followed at all, especially when the package wraps some underlying library
(<em>LIBSVM.jl</em>).</p>
<p>Then, we have the entirely different entity that is <a href="juliaml.github.io">JuliaML</a>. Here, we
have a design and API that seem to be in direct competition with JuliaStats
(<em>StatsBase.jl</em>/<em>MLBase.jl</em> vs <em>LearnBase.jl</em>, <em>Distances.jl</em> vs <em>LossFunctions.jl</em>,
<em>RegERMs.jl</em> vs <em>MLRisk.jl</em>, etc.). I wasn't sure how to even start using it, let alone
attempt to theoretically combine <em>LossFunctions.jl</em>, <em>StochasticOptimization.jl</em>, and
<em>MLMetrics.jl</em> into something resembling an end-to-end model. I can't quite figure out what
space JuliaML is trying to fit.</p>
<p>Overall, I think that JuliaStats is doing a very good job and is <em>almost there</em>. Packages
like <em>StatsBase.jl</em>, <em>DataFrames.jl</em>, and <em>Distributions.jl</em> are really great to use. Certainly,
the obvious response to the difficulties I had above is that more community support is
needed. Can't argue with that.</p>
<h3>Conclusion</h3>
<p>Julia has been perfectly suited for quickly coding up ML algorithms from scratch and really
getting my hands dirty. But when I wanted to quickly and easily drop in robust community
packages, I found that the functionality wasn't there.</p>
<p>I'll be using the Python ecosystem for the next assignment, in which we implement neural
nets/backprop. If I find myself having to bust out <code>sklearn</code> more regularly, I better figure
out how to use it fluidly.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/06/eight-days-a-week-revisited/#eight-days-a-week-revisited">Eight days a week, revisited</a></h2>
    <p>
      Posted on Thu 02 June 2016 in <a href="https://www.micahsmith.com/category/economics.html">economics</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/life.html">life</a>,      <a href="https://www.micahsmith.com/tag/economics.html">economics</a>,      <a href="https://www.micahsmith.com/tag/corporate-drones.html">corporate drones</a>,      <a href="https://www.micahsmith.com/tag/nundinum.html">nundinum</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/06/eight-days-a-week-revisited/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>If, as I investigated in a <a href="https://www.micahsmith.com/blog/2016/01/eight-days-a-week/">previous post</a>, you were down
with an eight-day week, then you were down with an idea that is possibly welfare improving.
Give yourself a pat on the back.</p>
<p>That's according to <a href="https://sites.google.com/site/decrgmayaeden/">Maya Eden</a> in a paper
elegantly titled <a href="https://drive.google.com/file/d/0B3oVfDo6jiiTRDYwSGIzMEV3ekE/view"><em>The
Week</em></a>. Dr. Eden
presented her work at a New York Fed seminar yesterday on this issue near and dear to my
heart.</p>
<p>Eden's presentation of some of the background of the modern week included some joyfully
quirky tidbits:</p>
<ul>
<li>Brunei <em>today</em> uses a 4-1-1-1 week (Friday and Sunday off) to accommodate the religious
    Muslim (day of rest on Friday) and Christian (Sunday) populations.</li>
<li>Beginning in 1929, the Soviets experimented with alternative weeks including a rotating
    4-1 (a different fifth of the population was off each of five days) and a coordinated
    5-1. A large part of this change was to diminish the influence of religion, of which
    the structure of the week originates. Eventually, they returned to a normal seven-day
    week with Sundays off. Historians use this latter fact to suggest that insubordination
    or noncompliance by religious citizens was not an insignificant problem.</li>
</ul>
<h2>The model</h2>
<p>In the model, labor productivity is a function of "fatigue" and "memory". Fatigue is
straightforward: people get tired. And when the are tired, they are less
productive and make more mistakes. This is the same issue that causes <a href="http://www.theatlantic.com/business/archive/2015/06/four-day-workweek/396530/">The
Atlantic</a> or <a href="http://www.economist.com/blogs/freeexchange/2013/09/working-hours">The
Economist</a> to publish
thinkpieces on or around labor day about reducing the work week.</p>
<p>While fatigue affects labor productivity in the short run, "memory" affects productivity in
the longer run. Memory is interpreted as <a href="https://en.wikipedia.org/wiki/Learning-by-doing_%28economics%29">learning by doing
capital</a> in which skills
sharpen through practice but depreciate through disuse. </p>
<ul>
<li>Vacation is investment in rest</li>
<li>Work is investment in memory</li>
</ul>
<h2>Results</h2>
<p>After including a utility framework and calibrating the model, Eden makes some arguments
about productivity and social welfare. Right away, the modern week is swept into the gutter
-- for no vectors of admissible model parameters is the modern 5-2 week socially optimal.</p>
<p>Rather, as she told us,</p>
<blockquote>
<p>There is never a cycle with more than one vacation day that is optimal.</p>
</blockquote>
<p>The intuition here is that pairs (or more) of non-contiguous vacation days per (seven-day)
week do just as much to restore "rest" as two contiguous vacation days but reduce the
depreciation in memory:</p>
<blockquote>
<p>There are productivity gains for having more Mondays per week.</p>
</blockquote>
<p>Given Eden's calibration, the optimal <code>i-j</code> weeks (cycles of workdays followed by vacation
days) are either 2-1 or 3-1. Here, it is interesting note that both decreasing and
increasing the share of vacation relative to work days as compared to the current 5-2 week
can lead to welfare gains.</p>
<p><img alt="welfare table" src="https://www.micahsmith.com/images/eden_welfare_table.png" /></p>
<p>My beloved proposition for a 5-3 week did not meet with as much support as I had hoped. In
the table above, you can see that the 5-3 cell has some mass on welfare increasing but is
welfare reducing on average. The parameter calibration is an important factor here. (Though
hark, let welfare arguments not be the end of us.) </p>
<h2>Field research</h2>
<p>I asked a couple friends what they thought of the proposal for a 2-1 week. Universally
(N=3), they were disinterested. Concerns mounted around the shortened weekend, which would
increase the relative effect of <em>harumph</em> hangovers. With one day weekends, one additional
vacation day would be needed to increase the weekend to consecutive days off; and while two
additional vacation days would increase the weekend to four consecutive days off, this
wouldn't be any different than the current model. The fact that 2-1 weeks would lead to
around 17 extra days off per year was lost in the analysis.</p>
<blockquote>
<p>"It's like every weekend is a Sunday only, and Sundays are the worst weekend days!"</p>
<p>"Right, but the first day of every week is like a Thursday."</p>
</blockquote>
<p>The concerns about contiguous vacation time highlighted a missing piece of Eden's model --
no complementarity of contiguous vacation time. Even if these contiguous days are not used
for traveling, there seems to be something about being able to recover from a hangover and
not despair the coming of another week as a corporate drone.</p>
<h2>Conclusions</h2>
<p>The optimal arrangement of the week remains an open question. Eden's model could use some
additional features and improved calibration (with less of the "magic macro wand"). I'm
also interested in seeing some (not-really) serious proposals for how changes in the week
could be implemented and the costs thereof. Until then, let's get some ramen on Micahday and
catch up.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/02/vim-diff-dumb-paths/#vim-diff-dumb-paths">Using vimdiff with dumb paths</a></h2>
    <p>
      Posted on Tue 02 February 2016 in <a href="https://www.micahsmith.com/category/coding.html">coding</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/vim.html">vim</a>,      <a href="https://www.micahsmith.com/tag/git.html">git</a>,      <a href="https://www.micahsmith.com/tag/matlab.html">matlab</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/02/vim-diff-dumb-paths/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>I've been loving vimdiff as my git difftool for a while.</p>
<h2>Vimdiff and Matlab packages</h2>
<p>Vimdiff runs into some problems when working with Matlab code. Matlab considers
directories with names beginning with <code>+</code> as "packages", a natural way to organize
projects. However, this means that many paths relative to the git top-level directory begin
with <code>+</code>. Of course, this applies to any path beginning with a <code>+</code>, though this is otherwise an
uncommon naming convention.</p>
<p>Suppose that your project looks like this:</p>
<div class="highlight"><pre><span></span>+code/
  foo.m
  bar.m
</pre></div>


<p>You might want to use vim to diff your two files:</p>
<div class="highlight"><pre><span></span>vimdiff +code/foo.m +code/bar.m
</pre></div>


<p>But vim will tell you:</p>
<div class="highlight"><pre><span></span>Error detected while processing command line:
E492: Not an editor comamnd: code/foo.m
E492: Not an editor comamnd: code/bar.m
</pre></div>


<p>What's going on? Vim interprets <code>+</code> as the start of a command-line argument (beyond
the typical <code>-</code>) and fails to find options/commands called <code>code/foo.m</code> and <code>code/bar.m</code>.</p>
<h2>The vimdiff solution</h2>
<p>Simply tell vimdiff somehow that the paths you are specifying are not options. (By the way,
note that vimdiff is pretty much just an alias for <code>vim -d</code>.)</p>
<p>We could prefix them with the current directory:</p>
<div class="highlight"><pre><span></span>vimdiff ./+code/foo.m ./+code/bar.m
</pre></div>


<p>Better yet, note that the <code>--</code> option</p>
<blockquote>
<p>Denotes the end of the options.  Arguments after this will be handled as
a file  name. This can be used to edit a filename that starts with a '-'.</p>
</blockquote>
<p>Or, in our case, to edit a filename that starts with a <code>+</code>:</p>
<div class="highlight"><pre><span></span>vimdiff -- +code/foo.m +code/bar.m
</pre></div>


<h2>Bringing git into the picture</h2>
<p>We now update <code>+code/foo.m</code> and want to compare to the previous commit. Using git's
<code>difftool</code> command, we diff all modified git-tracked files using a tool of our choice:</p>
<div class="highlight"><pre><span></span>git difftool --tool=vimdiff
</pre></div>


<p>Unfortunately, we run into the same problem as before.</p>
<div class="highlight"><pre><span></span>&quot;/private/var/folders/7v/cjvpqzt57c5fsb7qvsjmm5sw0000gn/T/7i6IKG_foo.m&quot; [readonly] 1L, 6C
Error detected while processing command line:
E492: Not an editor comamnd: code/foo.m
</pre></div>


<p>Since you haven't specified the file names yourself, you can't use either of the solutions
from the previous section!</p>
<h2>The git solution</h2>
<p>Git is basically writing the "before" state of the file to a temporary location and invoking
a typical vimdiff command. If we can modify this command, we can use one of our solutions
above.</p>
<p>One possibility is to set git's <code>difftool.&lt;tool&gt;.cmd</code> config option:</p>
<blockquote>
<p>Specify the command to invoke the specified diff tool. The specified command is evaluated in
shell with the following variables available: LOCAL is set to the name of the temporary file
containing the contents of the diff pre-image and REMOTE is set to the name of the temporary
file containing the contents of the diff post-image.</p>
</blockquote>
<p>We can do</p>
<div class="highlight"><pre><span></span><span class="x">git config --global difftool.vimdiff.cmd &#39;vimdiff -- </span><span class="p">$</span><span class="nv">LOCAL</span><span class="x"> </span><span class="p">$</span><span class="nv">REMOTE</span><span class="x">&#39;</span>
</pre></div>


<p>That'll do it. While you're at it, why not update your <code>~/.gitconfig</code> with the following handy
diff-related settings:</p>
<div class="highlight"><pre><span></span><span class="k">[alias]</span>
    <span class="na">d</span>   <span class="o">=</span> <span class="s">difftool</span>
<span class="k">[diff]</span>
    <span class="na">tool</span> <span class="o">=</span> <span class="s">vimdiff</span>
<span class="k">[difftool]</span>
    <span class="na">prompt</span> <span class="o">=</span> <span class="s">false</span>
<span class="k">[difftool &quot;vimdiff&quot;]</span>
    <span class="na">cmd</span> <span class="o">=</span> <span class="s">vimdiff -- $LOCAL $REMOTE</span>
</pre></div>


<p>Most people will likely never come across this problem: none of their paths are this crazy,
they use a different (read: graphical) difftool, they even use an external diff wrapper.
But this simple solution is all I need.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/01/iced-tbills/#iced-tbills">How Goldman stays cool</a></h2>
    <p>
      Posted on Mon 11 January 2016 in <a href="https://www.micahsmith.com/category/buildings.html">buildings</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/buildings.html">buildings</a>,      <a href="https://www.micahsmith.com/tag/ice.html">ice</a>,      <a href="https://www.micahsmith.com/tag/cubes.html">cubes</a>,      <a href="https://www.micahsmith.com/tag/ice-cubes.html">ice cubes</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/01/iced-tbills/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>Goldman literally has a vault full of ice cubes.</p>
<p>I wasn't sure if I had imagined this fun fact or not, but sure enough, Goldman's FiDi
headquarters is literally air conditioned in hot weather by the melting of massive ice
blocks in their basement.</p>
<p>According <a href="http://www.wsj.com/articles/SB10001424052702303828304575180581255747658">to the
WSJ</a>, which covers
such fun topics,</p>
<blockquote>
<p>The basement houses 92 storage tanks that hold 1.7 million pounds of ice made each night
when electricity rates are lower than during daytime hours. Air cooled by the melting ice
circulates throughout the building.</p>
</blockquote>
<p>That would only fill an Olympic-sized swimming pool one third of the way.</p>
<p>Without knowing anything about the economics of air conditioning, this sounds at first like
nothing more than a gimmick. But
<a href="http://money.cnn.com/2013/07/30/news/companies/new-york-ice-cooling/">apparently</a>,
the system can be as much as 40 percent cheaper compared to traditional methods. The system,
called <em>thermal storage</em>, freezes the water into ice at night to take advantage of lower
electricity costs.</p>
<blockquote>
<p>"It requires about 150 to 400 pounds of ice to cool down a person in an office building
every day," said Mark MacCracken, chief executive of Calmac.</p>
</blockquote>
<p>Same.</p>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/01/eight-days-a-week/#eight-days-a-week">Eight days a week</a></h2>
    <p>
      Posted on Sat 09 January 2016 in <a href="https://www.micahsmith.com/category/economics.html">economics</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/life.html">life</a>,      <a href="https://www.micahsmith.com/tag/economics.html">economics</a>,      <a href="https://www.micahsmith.com/tag/corporate-drones.html">corporate drones</a>,      <a href="https://www.micahsmith.com/tag/nundinum.html">nundinum</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/01/eight-days-a-week/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>What would you give up for a three-day weekend?</p>
<h2>The problem</h2>
<p>How great are three-day weekends? For me, at least, they recall the days in undergrad in
which Thursday at 2pm was the end of the work week. The rejuvenation of those three-day
weekends is certainly a step above the normal weekend of the 21st century corporate drone.</p>
<p>If only we could do something about our real-life weekends...</p>
<h2>The proposal</h2>
<p>With that in mind, <strong>I propose a three-day weekend for all workers</strong>. Now hang with me here.</p>
<p>No employer would be happy to just give all of their employees Friday off each week - an
extra 52 vacation days! They might be open to weekly "flex days", with working hours
Monday-Thursday extended from 7 to 8.75 hours per day. This arrangement might be too much
for some workers but is not altogether unreasonable.</p>
<p>There are two balancing incentives:
- employees' desire for longer contiguous time off
- employers' desire for a minimum amount of hours worked by employees</p>
<p>(Though on the latter point, it is not clear that this is the best proxy for productive
output.)</p>
<h3>Micahday</h3>
<p>I propose <strong>an eighth day of the week</strong>, which we can tentatively name "Micahday."
(Alternate names are welcome.) Micahday would be inserted between Saturday and Sunday. The
key: <span class="math">\(\frac{4}{7}&lt;\frac{5}{8}&lt;\frac{5}{7}\)</span>.</p>
<p>We maintain our 5-day work week, and add a full, luxurious 3-day weekend. Fly, fool --
travel every weekend if you want to!</p>
<h3>Hours worked</h3>
<p>Assume a typical US employee works 35 hours/week for 50 weeks/year for a total of 1,750 hours. (This roughly
corresponds to the actual <a href="http://www.bls.gov/news.release/empsit.t18.htm">average work
week</a> of 34.5 hours and actual <a href="https://stats.oecd.org/Index.aspx?DataSetCode=ANHRS">average work
year</a> of 1,789 hours.) We want to make our
proposal attractive to employers by not substantially changing the total number of hours
worked. A calendar with eight-day weeks would have about 43.5 work weeks per year
(excluding two weeks of vacation). So the average workday under this proposal would increase
from 7 hours to a few minutes over 8 hours. More reasonable.</p>
<table>
<thead>
<tr>
<th>System</th>
<th>Hours/week</th>
<th>Weeks/year</th>
<th>Total hours</th>
</tr>
</thead>
<tbody>
<tr>
<td>Normal</td>
<td>35</td>
<td>50</td>
<td>1,750</td>
</tr>
<tr>
<td>Proposal</td>
<td>40</td>
<td>43.5</td>
<td>1,750</td>
</tr>
</tbody>
</table>
<h3>Previous attempts</h3>
<p>Apparently the Romans at one point used the <a href="https://en.wikipedia.org/wiki/Roman_calendar#Nundinal_cycle">Nundinal
Cycle</a> until the introduction
of the Julian calendar. The <em>nundinum</em> ("market day", yes, please attempt to use that in context
tomorrow) was</p>
<blockquote>
<p>the day when city people would buy their eight days' worth of groceries.</p>
</blockquote>
<p>Sounds like a typical TJ's run to me.</p>
<p>Some more or less <a href="http://www.theeightdayweek.com/">crazy</a>
<a href="https://blogs.mentor.com/colinwalls/blog/2009/06/25/the-8-day-week/">attempts</a> have also been
made in the modern era.</p>
<h2>Problems, duh</h2>
<p>Obviously it is far-fetched to believe that anyone would actually overhaul the calendar to
accommodate eight-day weeks. In one sense, it wouldn't make that much of a difference --
January 9 would stay January 9, a year would have the same number of months, and a month
would have the same number of days.</p>
<p>Sure, maybe under my proposal a November beginning on a Friday or Saturday wouldn't have a
Thanksgiving. Sure, maybe every piece of software to ever use a date would have to be
patched.</p>
<p>But think about those long weekends...</p>
<h2>Try it out</h2>
<p>There's nothing to stop a forward-thinking employer from simply scheduling their employees
5 days on and 3 days off under the existing calendar. A company with less need for constant
interface with the outside world (in terms of banks, markets, clients), such as a software
company doing initial product development, could give this a shot. Make sure to pay me
the fat consulting fees if you do.</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    var location_protocol = (false) ? 'https' : document.location.protocol;
    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://www.micahsmith.com/blog/2016/01/hello-world/#hello-world">Welcome</a></h2>
    <p>
      Posted on Fri 08 January 2016 in <a href="https://www.micahsmith.com/category/life.html">life</a>
      &#8226; Tagged with
      <a href="https://www.micahsmith.com/tag/life.html">life</a>      &#8226; <a href="https://www.micahsmith.com/blog/2016/01/hello-world/#disqus_thread">Leave a comment</a>
    </p>
  </header>
  <div>
      <p>Welcome to my site. I'll be writing about various topics, such as the world to which we are
all party.</p>
  </div>
</article>


    <footer>
      <p>&copy; Micah Smith 2016</p>
<p>Built using <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a></p>    </footer>
  </main>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57970396-1', 'auto');
  ga('send', 'pageview');
</script>
<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Micah Smith ",
  "url" : "https://www.micahsmith.com",
  "image": "https://www.micahsmith.com/images/micah.jpg",
  "description": ""
}
</script><script type="text/javascript">
    var disqus_shortname = 'micahsmith';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
</body>
</html>