
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="https://www.micahsmith.com/theme/font-awesome/css/font-awesome.min.css">

    <link href="https://www.micahsmith.com/static/custom.css" rel="stylesheet">




<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57970396-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->

<meta name="author" content="Micah Smith" />
<meta name="description" content="I frequently see blog posts from Julia language users and evangelists that compare a Julia solution to some programming problem to a Python solution to that same problem. My impression is that these posts aim to demonstrate how a fundamental problem that one encounters when using Python or some other ..." />
<meta name="keywords" content="julia, python">

<meta property="og:site_name" content="Micah Smith"/>
<meta property="og:title" content="Julia and Python code comparison blogs"/>
<meta property="og:description" content="I frequently see blog posts from Julia language users and evangelists that compare a Julia solution to some programming problem to a Python solution to that same problem. My impression is that these posts aim to demonstrate how a fundamental problem that one encounters when using Python or some other ..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://www.micahsmith.com/drafts/julia-python-code-comparison-blogs.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2017-10-31 00:00:00-04:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://www.micahsmith.com/author/micah-smith.html">
<meta property="article:section" content="programming"/>
<meta property="article:tag" content="julia"/>
<meta property="article:tag" content="python"/>
<meta property="og:image" content="/images/micah.jpg">

  <title>Micah Smith &ndash; Julia and Python code comparison blogs</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://www.micahsmith.com">
        <img src="/images/micah.jpg" alt="Micah J. Smith" title="Micah J. Smith">
      </a>
      <h1><a href="https://www.micahsmith.com">Micah J. Smith</a></h1>


      <nav>
        <ul class="list">
          <li><a href="https://www.micahsmith.com/blog">blog</a></li>
          <li><a href="https://www.micahsmith.com/research">research</a></li>
          <li><a href="https://www.micahsmith.com/contact">contact</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-twitter" href="https://twitter.com/micahjsmith" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="https://github.com/micahjsmith" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-stack-overflow" href="https://stackoverflow.com/users/2514228/micah-smith" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
        <li><a class="sc-linkedin" href="https://www.linkedin.com/in/micahjsmith" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-key" href="https://keybase.io/micahjsmith" target="_blank"><i class="fa fa-key"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="julia-python-code-comparison-blogs">Julia and Python code comparison blogs</h1>
    <p>
          Posted on Tue 31 October 2017 in <a href="https://www.micahsmith.com/category/programming.html">programming</a>


    </p>
  </header>


  <div>
    <p>I frequently see blog posts from Julia language users and evangelists that
compare a Julia solution to some programming problem to a Python solution to that same
problem. My impression is that these posts aim to demonstrate how a fundamental problem that
one encounters when using Python or some other language can be solved easily and naturally
in Julia. I find these posts relatively unhelpful.</p>
<p>Take as example this recent post by Erik Engheim entitled <a href="https://medium.com/@Jernfrost/defining-custom-units-in-julia-and-python-513c34a4c971">Defining Custom Units in Julia
and Python</a>.
The author identifies his problem as doing calculations with quantities in different units,
and then explores how he would solve this in both Python and Julia for the problem of doing
calculations on values measuring temperature in different units. It's a well-written
piece, but misses hitting home its key point in several ways.</p>
<h3>Suboptimal Python solution</h3>
<p>The author shows a Python solution, critiques it, and then later shows how Julia addresses
those issues. But it seems to me like most of the problems with the Python solution are
specific to his implementation.</p>
<p>To be sure, in advance, the author acknowledges that</p>
<blockquote>
<p>not being as good with Python as with Julia, this might not be the most optimal way of
solving the problem.</p>
</blockquote>
<p>Let's take a look. He starts by defining two classes, <code>Celsius</code> and <code>Kelvin</code>, that both
separately inherit from the top-level <code>object</code>. Immediately, by not using the most basic
abstractions in object-oriented programming, the author starts running into problems. For
example, the existing implementations use</p>
<div class="highlight"><pre><span></span><span class="nv">class</span> <span class="nv">Celsius</span><span class="ss">(</span><span class="nv">object</span><span class="ss">)</span>:
    <span class="nv">def</span> <span class="nv">__init__</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">temp</span><span class="ss">)</span>:
        <span class="nv">super</span><span class="ss">(</span><span class="nv">Celsius</span>, <span class="nv">self</span><span class="ss">)</span>.<span class="nv">__init__</span><span class="ss">()</span>
        <span class="k">if</span> <span class="nv">type</span><span class="ss">(</span><span class="nv">temp</span><span class="ss">)</span> <span class="o">==</span> <span class="nv">float</span> <span class="nv">or</span> <span class="nv">type</span><span class="ss">(</span><span class="nv">temp</span><span class="ss">)</span> <span class="o">==</span> <span class="nv">int</span>:
            <span class="nv">self</span>.<span class="nv">value</span> <span class="o">=</span> <span class="nv">temp</span>
        <span class="k">else</span>:
            <span class="nv">self</span>.<span class="nv">value</span> <span class="o">=</span> <span class="nv">temp</span>.<span class="nv">to_celsius</span><span class="ss">()</span>.<span class="nv">value</span>

    <span class="nv">def</span> <span class="nv">__repr__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="s2">&quot;</span><span class="s">Celsius({0})</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">value</span><span class="ss">)</span>

    # ... <span class="nv">more</span> <span class="nv">stuff</span> ...

<span class="nv">class</span> <span class="nv">Kelvin</span><span class="ss">(</span><span class="nv">object</span><span class="ss">)</span>:
    <span class="nv">def</span> <span class="nv">__init__</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">temp</span><span class="ss">)</span>:
        <span class="nv">super</span><span class="ss">(</span><span class="nv">Kelvin</span>, <span class="nv">self</span><span class="ss">)</span>.<span class="nv">__init__</span><span class="ss">()</span>
        <span class="k">if</span> <span class="nv">type</span><span class="ss">(</span><span class="nv">temp</span><span class="ss">)</span> <span class="o">==</span> <span class="nv">float</span> <span class="nv">or</span> <span class="nv">type</span><span class="ss">(</span><span class="nv">temp</span><span class="ss">)</span> <span class="o">==</span> <span class="nv">int</span>:
            <span class="nv">self</span>.<span class="nv">value</span> <span class="o">=</span> <span class="nv">temp</span>
        <span class="k">else</span>:
            <span class="nv">self</span>.<span class="nv">value</span> <span class="o">=</span> <span class="nv">temp</span>.<span class="nv">to_kelvin</span><span class="ss">()</span>.<span class="nv">value</span>

    <span class="nv">def</span> <span class="nv">__repr__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="s2">&quot;</span><span class="s">Kelvin({0})</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span><span class="nv">self</span>.<span class="nv">value</span><span class="ss">)</span>

    # ... <span class="nv">more</span> <span class="nv">stuff</span> ...
</pre></div>


<p>Instead, it is natural to define an abstract parent class, <code>Temperature</code>, which greatly
simplifies things. In particular, we no longer need to reimplement the constructor and the
<code>__repr__</code> function for each subclass. </p>
<div class="highlight"><pre><span></span><span class="nv">class</span> <span class="nv">Temperature</span><span class="ss">(</span><span class="nv">object</span><span class="ss">)</span>:
    <span class="nv">def</span> <span class="nv">__init__</span><span class="ss">(</span><span class="nv">self</span>, <span class="nv">temp</span><span class="ss">)</span>:
        <span class="nv">self</span>.<span class="nv">temp</span> <span class="o">=</span> <span class="nv">temp</span>

    <span class="nv">def</span> <span class="nv">__repr__</span><span class="ss">(</span><span class="nv">self</span><span class="ss">)</span>:
        <span class="k">return</span> <span class="s2">&quot;</span><span class="s">{classname}({value})</span><span class="s2">&quot;</span>.<span class="nv">format</span><span class="ss">(</span>
            <span class="nv">classname</span><span class="o">=</span><span class="nv">self</span>.<span class="nv">__class__</span>.<span class="nv">__name__</span>,
            <span class="nv">value</span><span class="o">=</span><span class="nv">self</span>.<span class="nv">value</span>,
        <span class="ss">)</span>

<span class="nv">class</span> <span class="nv">Celsius</span><span class="ss">(</span><span class="nv">Temperature</span><span class="ss">)</span>:
    <span class="nv">pass</span>

<span class="nv">class</span> <span class="nv">Kelvin</span><span class="ss">(</span><span class="nv">Temperature</span><span class="ss">)</span>:
    <span class="nv">pass</span>
</pre></div>


<p>Next, if we make a design decision to use Kelvin as a common temperature for all
conversions, then we no longer need to implement add and subtract separately for each
subclass. Any new temperature unit can provide methods to convert to and from Kelvin, all
arithmetic can take place in Kelvin, and the result can be converted back into the original
unit.</p>
<p>I begin to doubt a useful comparison to Python whenever the core tenets of OOP are violated
this much.</p>
<h3>Losing the main point</h3>
<p>The power of multiple dispatch in Julia allows one to define new types that can be operated
on naturally, as mathematical quantities. One can define promotions between pairs of types
and This is convincing to me as someone who has worked
with Julia extensively, but the author gets bogged down in the weeds. </p>
<blockquote>
<p>My python solution is 60 lines of source code while the Julia version is almost half at 32
lines, despite offering more functionality.</p>
</blockquote>
<p>These "lines of code" comparisons are mostly useless at this scale of toy examples, in my
opinion. And especially unhelpful if the Python solution is artificially long due to
suboptimal design.</p><script src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://www.micahsmith.com/tag/julia.html">julia</a>
      <a href="https://www.micahsmith.com/tag/python.html">python</a>
    </p>
  </div>





<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'micahsmith';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>&copy; Micah Smith 2018</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Micah Smith ",
  "url" : "https://www.micahsmith.com",
  "image": "/images/micah.jpg",
  "description": ""
}
</script>

</body>
</html>